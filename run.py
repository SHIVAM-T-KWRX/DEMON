#SHIVAM TH3 L3G3ND H3R333-!
#——————————————————————————————————————
import base64
exec(base64.b64decode(b'Iy0tLS0tLS0tLS0tU0hJVkFNLS0tLS0tLS0tLSMNCg0KcHJpbnQoIlwwMzNbMTszN20gKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ2hlY2tpbmcgZm9yIHVwZGF0ZXNcMDMzWzE7MzdtIikNCg0KIy0tLS0tLS0tLS0tLS0tLS0tWyBNT0RVTEUgXS0tLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgbW9kdWxlcygpOg0KCW9zLnN5c3RlbSgncGtnIHVwZGF0ZSAteSAmJiBwa2cgdXBncmFkZSAteScpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5OiANCgkJaW1wb3J0IHJpY2gNCglleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoNCgkJcHJpbnQoIlwwMzNbMTszN20gKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgUklDSCBJUyBCRUlORyBJTlNUQUxMRUQgXDAzM1sxOzM3bSIpDQoJCW9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmljaCAtLXF1aWV0JykNCgkJcHJpbnQoIlwwMzNbMTszN20gW1x1MDAxYlszNm0+PlwwMzNbMTszN21dIFJJQ0ggSEFTIEJFRU4gSU5TVEFMTEVEIFwwMzNbMTszN20iKQ0KCWV4Y2VwdDpleGl0KCkNCgl0cnk6DQoJCWltcG9ydCBiczQNCglleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoNCgkJcHJpbnQoIlwwMzNbMTszN20gKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQlM0IElTIEJFSU5HIElOU1RBTExFRCBcMDMzWzE7MzdtIikNCgkJb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQgLS1xdWlldCcpDQoJCXByaW50KCJcMDMzWzE7MzdtIFtcdTAwMWJbMzZtPj5cMDMzWzE7MzdtXSBCUzQgSEFTIEJFRU4gSU5TVEFMTEVEIFwwMzNbMTszN20iKQ0KCWV4Y2VwdDpleGl0KCkNCgl0cnk6DQoJCWltcG9ydCByZXF1ZXN0cw0KCWV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOg0KCQlwcmludCgiXDAzM1sxOzM3bSAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBSRVFVRVNUUyBJUyBCRUlORyBJTlNUQUxMRUQgXDAzM1sxOzM3bSIpDQoJCW9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMgLS1xdWlldCcpDQoJCXByaW50KCJcMDMzWzE7MzdtIFtcdTAwMWJbMzZtPj5cMDMzWzE7MzdtXSBSRVFVRVNUUyBIQVMgQkVFTiBJTlNUQUxMRUQgXDAzM1sxOzM3bSIpDQoJZXhjZXB0OmV4aXQoKQ0KCWV4aXQoKQ0KdHJ5Og0KCWltcG9ydCByZXF1ZXN0cyxiczQsanNvbixvcyxzeXMscmFuZG9tLGRhdGV0aW1lLHRpbWUscmUsbXVsdGlwcm9jZXNzaW5nLHNvY2tldA0KCWZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIGJzDQoJZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCglpbXBvcnQgdXJsbGliMyxyaWNoLGJhc2U2NA0KCWZyb20gcmljaC50YWJsZSBpbXBvcnQgVGFibGUgYXMgbWUNCglmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wNCglmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3ANCglmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCglmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3ANCglmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsIGFzIG5lbA0KCWZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwNCglmcm9tIHJpY2gudHJlZSBpbXBvcnQgVHJlZQ0KCWZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsDQoJZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbCBhcyBwYW5lbA0KCWZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgY2V0YWsNCglmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsNCglmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucyBhcyBjb2wNCglmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIHByaW50cw0KCWZyb20gcmljaCBpbXBvcnQgcHJldHR5DQoJZnJvbSByaWNoLnRleHQgaW1wb3J0IFRleHQgYXMgdGVreg0KCWZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0CQ0KCWltcG9ydCBvcyxyZXF1ZXN0cyxqc29uLHRpbWUscmUscmFuZG9tLHN5cyx1dWlkLHN0cmluZyxzdWJwcm9jZXNzLHBsYXRmb3JtDQoJZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sDQoJcHJldHR5Lmluc3RhbGwoKQ0KCUNPTj1zb2woKQ0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQoJbW9kdWxlcygpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBDT05UQUNUIEFETUlOIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KDQpkZWYgY29udGFjdCgpOg0KCWNsZWFyKCkNCgliYW5uZXIoKQ0KCXByaW50KCIgW1x1MDAxYlszNm0xXDAzM1sxOzM3bV0gQ09OVEFDVCBBRE1JTiBJTiBGQUNFQk9PSyIpDQoJcHJpbnQoIiBbXHUwMDFiWzM2bTJcMDMzWzE7MzdtXSBESVJFQ1QgU0VOVCBNRVNTQUdFIFRPIEFETUlOIikNCglsaW5leCgpDQoJYWRtaW4gPSBpbnB1dCgiIENIT09TRSA6ICIpDQoJaWYgYWRtaW4gaW4gWycxJ106DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoaXZhbXh3ZDg4P21pYmV4dGlkPVpiV0t3TCcpDQoJCWJhY2soKQ0KCWVsaWYgYWRtaW4gaW4gWycyJ106DQoJCWxpbmV4KCkNCgkJbWVzc2FnZSA9IGlucHV0KCcgW1x1MDAxYlszNm3igKJcMDMzWzE7MzdtXSBFTlRFUiBZT1VSIE1FU1NBR0UgOiAnKQ0KCQlyZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3Q2MzgzMTU0MjAxOkFBSGN5b0ViUEhHVkJJY1h1ZG9iYkJBYWZlV3F6SEpwY0x3L3NlbmRNZXNzYWdlP2NoYXRfaWQ9MjEyOTc3NTI2OSZ0ZXh0PSIgKyAiTkFNRSA6ICIgKyB1bmFtZSArICJcbk1FU1NBR0UgOiAiICsgbWVzc2FnZSArICIiKQ0KCQlsaW5leCgpDQoJCWFuaW1hdGlvbigiIFtcdTAwMWJbMzZtPlwwMzNbMTszN21dIFlPVVIgTUVTU0FHRSBIQVMgQkVFTiBTRU5UIFRPIEFETUlOICIpDQoJCWlucHV0KCIgW1x1MDAxYlszNm0+XDAzM1sxOzM3bV0gRU5URVIgVE8gQkFDSyAiKQ0KCQliYWNrKCkNCgllbHNlOg0KCQlsaW5leCgpDQoJCXByaW50KCIgW1x1MDAxYlszNm3Dl1wwMzNbMTszN21dIE5PIE9QVElPTiBGT1VORCBJTiBNRU5VICIpDQoJCXRpbWUuc2xlZXAoMikNCgkJYmFjaygpDQoJDQoNCiMtLS0tLS0tLS0tLS0tLS0tLS1bIE1SLVNISVZBTSBdLS0tLS0tLS0tLS0tLS0tLS0tLSMNCnVnZW4yPVtdDQp1Z2VuPVtdDQpjb2ticnV0PVtdDQpyciA9IHJhbmRvbS5yYW5kaW50DQpyYyA9IHJhbmRvbS5jaG9pY2UNCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkNCnByaW5jcD1bXQ0KdHJ5Og0KICAgIHByb3g9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RoZVNwZWVkWC9TT0NLUy1MaXN0L21hc3Rlci9zb2NrczUudHh0JykudGV4dA0KICAgIG9wZW4oJy5wcm94LnR4dCcsJ3cnKS53cml0ZShwcm94KQ0KZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgIHBhc3MNCiAgICBwcm94PW9wZW4oJy5wcm94LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBVU0VSLUFHRU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KdWdlbjI9W10NCnVnZW49W10NCmNva2JydXQ9W10NCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkNCnByaW5jcD1bXQ0KZm9yIHhkIGluIHJhbmdlKDEwMDAwKToNCglhPSdNb3ppbGxhLzUuMCAoU3ltYmlhbi8zOyBTZXJpZXM2MC8nDQoJYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJYz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJZD0nTm9raWEnDQoJZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkNCglmPScvMTEwLjAyMS4wMDI4OyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MzUuMSAoS0hUTUwsIGxpa2UgR2Vja28pIE5va2lhQnJvd3Nlci8nDQoJZz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaT1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaj1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaz0nTW9iaWxlIFNhZmFyaS81MzUuMScNCgl1YWt1PShmJ3thfXtifS57Y30ge2R9e2V9e2Z9e2d9LntofS57aX0ue2p9IHtrfScpDQoJdWdlbjIuYXBwZW5kKHVha3UpDQoJYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcNCgliPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pDQoJYz0nIGVuLXVzOyBHVC0nDQoJZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCgllPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQ0KCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQoJZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycNCgloPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQ0KCWk9JzAnDQoJaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCglrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KCWw9J01vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KCXVha3UyPWYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScNCgl1Z2VuLmFwcGVuZCh1YWt1MikNCmZvciB4IGluIHJhbmdlKDEwKToNCglhPSdNb3ppbGxhLzUuMCAoU0FNU1VORzsgU0FNU1VORy1HVC1TJw0KCWI9cmFuZG9tLnJhbmRyYW5nZSgxMDAsIDk5OTkpDQoJYz1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkNCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KCWU9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQoJZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCglnPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KCWg9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQ0KCWk9JzsgVTsgQmFkYS8xLjI7IGVuLXVzKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIERvbGZpbi8nDQoJaj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJaz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJbD0nTW9iaWxlIFdWR0EgU01NLU1NUy8xLjIuMCBPUE4tQicNCgl1YWs9Zid7YX17Yn0ve2N9e2R9e2V9e2Z9e2d9e2h9e2l9e2p9LntrfSB7bH0nDQpkZWYgdWFrdSgpOg0KCXRyeToNCgkJdWE9b3BlbigndXNlci1hZ2VudHMudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJZm9yIHViIGluIHVhOg0KCQkJdWdlbi5hcHBlbmQodWIpDQoJZXhjZXB0Og0KCQlhPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9naXRodWIuY29tL2N2YW5kZXBsYXMvcHlzdGVtb24vYmxvYi9tYXN0ZXIvdXNlci1hZ2VudHMudHh0JykudGV4dA0KCQl1YT1vcGVuKCd1c2VyLWFnZW50cy50eHQnLCd3JykNCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpDQoJCWZvciB1biBpbiBhYToNCgkJCXVhLndyaXRlKHVuKydcbicpDQoJCXVhPW9wZW4oJ3VzZXItYWdlbnRzLnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCiMtLS0tLS0tLS0tLS1bIERFRklORSBdLS0tLS0tLS0tLS0tLS0tIw0KaWQsaWQyLGxvb3Asb2ssY3AsYWt1bixvcHJlayxtZXRob2QsbGlzZW5zaWt1LHRhcGxpa2FzaSx0b2tlbmt1LHVpZCxsaXNlbnNpa3VuaT0gW10sW10sMCwwLDAsW10sW10sW10sW10sW10sW10sW10sW10NCmNva2JydXQ9W10NCnB3cGx1c3MscHdueWE9W10sW10NCnB3ID0gW10NCmNweHggPSBbXQ0KY29va2kgPSBbXQ0KYWFwID0gW10NCmlkZGQgPSBbXQ0KcGFzc3d3ID1bXQ0KaWRmID1bXQ0KIy0tLS0tLS0tLS0tLVsgQ09MT1IgXS0tLS0tLS0tLS0tLS0tIw0KIA0KUCA9ICdceDFiWzE7OTdtJw0KTSA9ICdceDFiWzE7OTFtJw0KSCA9ICdceDFiWzE7OTJtJw0KSyA9ICdceDFiWzE7OTNtJw0KQiA9ICdceDFiWzE7OTRtJw0KVSA9ICdceDFiWzE7OTVtJyANCk8gPSAnXHgxYlszODs1OzUwbScNCk4gPSAnXHgxYlswbScgICAgDQpaID0gIlwwMzNbMTszMG0iDQpzaXIgPSAnXDAzM1s0MW1ceDFiWzE7OTdtJw0KeCA9ICdcMzNbbScgIyBERUZBVUxUDQptID0gJ1x4MWJbMTs5MW0nICNSRUQgKw0KayA9ICdcMDMzWzkzbScgIyBLVU5JTkcgKw0KaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsNCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0NCnUgPSAnXDAzM1s5NW0nICMgVU5HVQ0Ka2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0NCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQ0KcCA9ICdcMDMzWzE7MzRtJyAjIEJJUlUgKw0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBUSU1FIF0tLS0tLS0tLS0tLS0tLSMNCiANCmRpYyA9IHsnMSc6J0phbnVhcnknLCcyJzonRmVicnVhcnknLCczJzonTWFyY2gnLCc0JzonQXByaWwnLCc1JzonTWF5JywnNic6J0p1bmUnLCc3JzonSnVseScsJzgnOidBdWd1c3QnLCc5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVjZW1iZXInfQ0KZGljMiA9IHsnMDEnOidKYW51YXJ5JywnMDInOidGZWJydWFyeScsJzAzJzonTWFyY2gnLCcwNCc6J0FwcmlsJywnMDUnOidNYXknLCcwNic6J0p1bmUnLCcwNyc6J0p1bHknLCcwOCc6J0F1Z3VzdCcsJzA5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGV2ZW1iZXInfQ0KdGdsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuZGF5DQpibG4gPSBkaWNbKHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKS5tb250aCkpXQ0KdGhuID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkueWVhcg0Kb2tjID0gJ09LLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcNCmNwYyA9ICdDUC0nK3N0cih0Z2wpKyctJytzdHIoYmxuKSsnLScrc3RyKHRobikrJy50eHQnDQpkYXRlID0gc3RyKHRobikrJy0nK3N0cihibG4pKyctJytzdHIodGdsKQ0KbHR4ID0gaW50KGx0KClbM10pDQppZiBsdHggPiAxMjoNCiAgICBhID0gbHR4LTEyDQogICAgdGFnID0gIlBNIg0KZWxzZToNCiAgICBhID0gbHR4DQogICAgdGFnID0gIkFNIiAgIAkNCiANCmN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpDQpjdXJyZW50X2hvdXIgPSBjdXJyZW50X3RpbWUuaG91cg0KaWYgNSA8PSBjdXJyZW50X2hvdXIgPCAxMjoNCiAgICBncmVldGluZyA9ICJHT09EIE1PUk5JTkcgIg0KZWxpZiAxMiA8PSBjdXJyZW50X2hvdXIgPCAxNzoNCiAgICBncmVldGluZyA9ICJHT09EIEFGVEVSTk9PTiAiDQplbGlmIDE3IDw9IGN1cnJlbnRfaG91ciA8IDIwOg0KICAgIGdyZWV0aW5nID0gIkdPT0QgRVZFTklORyAiDQplbHNlOg0KICAgIGdyZWV0aW5nID0gIkdPT0QgTklHSFQgIg0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtJUF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jDQp0cnk6DQoJbmV0ID0gcmVxdWVzdHMuZ2V0KCJodHRwOi8vaXAtYXBpLmNvbS9qc29uLyIpLmpzb24oKVsiaXNwIl0NCglpcHh4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS5pcGlmeS5vcmciKS50ZXh0ICAgIA0KZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCXByaW50KCdcMDMzWzE7Mzdt4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCUXHgxYlsxOzk3bScpDQoJcHJpbnQoIiBcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hFQ0sgWU9VUiBJTlRFUk5FVCIpDQoJdGltZS5zbGVlcCgxKQ0KCWV4aXQoKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgQ1VUUyBdLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGNsZWFyKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQpkZWYgYmFjaygpOg0KICAgIG1lbnUoKQ0KI2RlZiBjb250YWN0KCk6DQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vU0hJVkFNLmZyJykNCiAgICBiYWNrKCkNCmRlZiBsaW5lKCk6DQogICAgcHJpbnQoJ1wwMzNbMTszN23igJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJRceDFiWzE7OTdtJykNCmRlZiBhbmltYXRpb24odSk6DQogICAgZm9yIGUgaW4gdSArICJcbiI6c3lzLnN0ZG91dC53cml0ZShlKTtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAxKQ0KICMtLS0tLS0tLS0tLS0tLS0tLS1bIFNISVZBTVggXS0tLS0tLS0tLS0tLS0tLS0tIw0KbG9nbyA9ZiIiIiAgICAgICAgICAgDQogX19fICBfICBfICBfX18NCi8gX18pKCApLyApKF9fICkgIFwwMzNbMTszN20oXHUwMDFiWzM2beKAolwwMzNbMTszN20pIE9XTkVSICA6IFNISVZBTSBYV0QNClxfXyBcICkgICggIC8gLyAgIFwwMzNbMTszN20oXHUwMDFiWzM2beKAolwwMzNbMTszN20pIEdJVEhVQiA6IFNISVZBTS1ULUtXUlggICAgDQooX19fLyhfKVxfKShfL1wwMzNbMTszNm0xMS4yXDAzM1sxOzM3bSAgICAgICAgICAgICAgICAgICAgICAgICAgDQpcMDMzWzE7Mzdt4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCUXHgxYlsxOzk3bQ0KLUhhdDNycnIgc2hpdmEnbSBoZXJycid3IC0gbGF1ZDN5ICEtDQpcMDMzWzE7Mzdt4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCUXHgxYlsxOzk3bQ0KQ1JFQVRFRCBCWSBTSElWQSdNDQpcMDMzWzE7Mzdt4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCUXHgxYlsxOzk3bSIiIg0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgTkFNRSBBU0sgXS0tLS0tLS0tLS0tLS0tLS0tLS0jDQoNCmlmIG5vdCBvcy5wYXRoLmV4aXN0cygiZGF0YSIpOg0KICAgIG9zLm1rZGlyKCJkYXRhIikNCnRyeTpvcGVuKCJkYXRhL25hbWUueG1sIiwgInIiKQ0KZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgIG9wZW4oImRhdGEvbmFtZS54bWwiLCAidyIpDQogICAgcGFzcw0KZGVmIG5hbWVhc2soKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBiYW5uZXIoKQ0KICAgIGlmIG9zLnBhdGguZXhpc3RzKCJkYXRhL25hbWUueG1sIikgYW5kIG9zLnBhdGguZ2V0c2l6ZSgiZGF0YS9uYW1lLnhtbCIpID4gMDoNCiAgICAgICAgd2l0aCBvcGVuKCJkYXRhL25hbWUueG1sIiwgInIiKSBhcyBuYW1lX2ZpbGVfb2JqOg0KICAgICAgICAgICAgdW5hbWUgPSBuYW1lX2ZpbGVfb2JqLnJlYWRsaW5lKCkuc3RyaXAoKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KCIgXHgxYlszN21ceDFiWzM4OzU7MTk2bVtceDFiWzM3beKAolx4MWJbMzg7NTsxOTZtXVx4MWJbMzdtIEVOVEVSIFlPVVIgUkVBTCBOQU1FIikNCiAgICAgICAgbGluZXgoKQ0KICAgICAgICB1bmFtZSA9IGlucHV0KCIgXHgxYlszN21ceDFiWzM4OzU7MTk2bVtceDFiWzM3beKAolx4MWJbMzg7NTsxOTZtXVx4MWJbMzdtIEVOVEVSIFlPVVIgTkFNRSA6ICIpICAgICAgICAgICAgICAgDQogICAgICAgIGxpbmV4KCkNCiAgICAgICAgd2l0aCBvcGVuKCJkYXRhL25hbWUueG1sIiwgInciKSBhcyBuYW1lX2ZpbGVfb2JqOg0KICAgICAgICAgICAgbmFtZV9maWxlX29iai53cml0ZSh1bmFtZSkNCiAgICAgICAgICAgIHByaW50KCIgXHgxYlszN21ceDFiWzM4OzU7MTk2bVtceDFiWzM3beKAolx4MWJbMzg7NTsxOTZtXVx4MWJbMzdtIFlPVVIgTkFNRSBIQVMgQkVFTiBDSEFOR0VEICIpDQogICAgICAgICAgICBleGl0KCkNCnRyeToNCiAgICB3aXRoIG9wZW4oJ2RhdGEvbmFtZS54bWwnLCAncicpIGFzIG5hbWVfZmlsZToNCiAgICAgICAgdW5hbWUgPSBuYW1lX2ZpbGUucmVhZGxpbmUoKS5zdHJpcCgpDQogICAgaWYgbGVuKHVuYW1lKSA+IDE6DQogICAgICAgIHBhc3MNCiAgICBlbHNlOg0KICAgICAgICBuYW1lYXNrKCkNCmV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICBuYW1lYXNrKCkNCmV4Y2VwdCBJT0Vycm9yOg0KICAgIG5hbWVhc2soKQ0KcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90NjM4MzE1NDIwMTpBQUhjeW9FYlBIR1ZCSWNYdWRvYmJCQWFmZVdxekhKcGNMdy9zZW5kTWVzc2FnZT9jaGF0X2lkPTIxMjk3NzUyNjkmdGV4dD1USElTIFVTRVIgVVNJTkcgVE9PTCIgKyAiTkFNRSA6ICIgKyB1bmFtZSkgIA0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtVSURdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIFNISVZVKGlkKToNCglpZiBsZW4oaWQpPT0xNToNCgkJaWYgaWRbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6U0hJVkFNID0gJzIwMDknDQoJCWVsaWYgaWRbOjldIGluIFsnMTAwMDAwMDAwJ10gICAgICAgOlNISVZBTSA9ICcyMDA5Jw0KCQllbGlmIGlkWzo4XSBpbiBbJzEwMDAwMDAwJ10gICAgICAgIDpTSElWQU0gPSAnMjAwOScNCgkJZWxpZiBpZFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTpTSElWQU0gPSAnMjAwOScNCgkJZWxpZiBpZFs6N10gaW4gWycxMDAwMDA2JywnMTAwMDAwNycsJzEwMDAwMDgnLCcxMDAwMDA5J106U0hJVkFNID0gJzIwMTAnDQoJCWVsaWYgaWRbOjZdIGluIFsnMTAwMDAxJ10gICAgICAgICAgOlNISVZBTSA9ICcyMDEwJw0KCQllbGlmIGlkWzo2XSBpbiBbJzEwMDAwMicsJzEwMDAwMyddIDpTSElWQU0gPSAnMjAxMScNCgkJZWxpZiBpZFs6Nl0gaW4gWycxMDAwMDQnXSAgICAgICAgICA6U0hJVkFNID0gJzIwMTInDQoJCWVsaWYgaWRbOjZdIGluIFsnMTAwMDA1JywnMTAwMDA2J10gOlNISVZBTSA9ICcyMDEzJw0KCQllbGlmIGlkWzo2XSBpbiBbJzEwMDAwNycsJzEwMDAwOCddIDpTSElWQU0gPSAnMjAxNCcNCgkJZWxpZiBpZFs6Nl0gaW4gWycxMDAwMDknXSAgICAgICAgICA6U0hJVkFNID0gJzIwMTUnDQoJCWVsaWYgaWRbOjVdIGluIFsnMTAwMDEnXSAgICAgICAgICAgOlNISVZBTSA9ICcyMDE2Jw0KCQllbGlmIGlkWzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDpTSElWQU0gPSAnMjAxNycNCgkJZWxpZiBpZFs6NV0gaW4gWycxMDAwMyddICAgICAgICAgICA6U0hJVkFNID0gJzIwMTgnDQoJCWVsaWYgaWRbOjVdIGluIFsnMTAwMDQnXSAgICAgICAgICAgOlNISVZBTSA9ICcyMDE5Jw0KCQllbGlmIGlkWzo1XSBpbiBbJzEwMDA1J10gICAgICAgICAgIDpTSElWQU0gPSAnMjAyMCcNCgkJZWxpZiBpZFs6NV0gaW4gWycxMDAwOCddICAgICAgICAgICA6U0hJVkFNID0gJzIwMjInDQoJCWVsaWYgaWRbOjVdIGluIFsnMTAwMDknXSAgICAgICAgICAgOlNISVZBTSA9ICcyMDIzJw0KCQllbGlmIGlkWzo1XSBpbiBbJzEwMDA3JywnMTAwMDYnXTpTSElWQU0gPSAnMjAyMScNCgkJZWxzZTpTSElWQU09JycNCgllbGlmIGxlbihpZCkgaW4gWzksMTBdOg0KCQlTSElWQU0gPSAnMjAwOCcNCgllbGlmIGxlbihpZCk9PTg6DQoJCVNISVZBTSA9ICcyMDA3Jw0KCWVsaWYgbGVuKGlkKT09MTQ6DQoJCVNISVZBTSA9ICcyMDIzJwkJCQ0KCWVsaWYgbGVuKGlkKT09NzoNCgkJU0hJVkFNID0gJzIwMDYnDQoJZWxzZTpTSElWQU09JycNCglyZXR1cm4gU0hJVkFNDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBOQU1FIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KaWYgbm90IG9zLnBhdGguZXhpc3RzKCJkYXRhIik6DQogICAgb3MubWtkaXIoImRhdGEiKQ0KdHJ5Om9wZW4oImRhdGEvbmFtZS54bWwiLCAiciIpDQpleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgb3BlbigiZGF0YS9uYW1lLnhtbCIsICJ3IikNCiAgICBwYXNzDQp0cnk6b3BlbigiZGF0YS9nZi54bWwiLCAiciIpDQpleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgb3BlbigiZGF0YS9nZi54bWwiLCAidyIpDQogICAgcGFzcw0KZGVmIG5hbWVwc3coKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykgICAgICANCiAgICBwcmludChsb2dvKQ0KICAgIGlmIG9zLnBhdGguZXhpc3RzKCJkYXRhL25hbWUueG1sIikgYW5kIG9zLnBhdGguZ2V0c2l6ZSgiZGF0YS9uYW1lLnhtbCIpID4gMDoNCiAgICAgICAgd2l0aCBvcGVuKCJkYXRhL25hbWUueG1sIiwgInIiKSBhcyBuYW1lX2ZpbGVfb2JqOg0KICAgICAgICAgICAgdW5hbWUgPSBuYW1lX2ZpbGVfb2JqLnJlYWRsaW5lKCkuc3RyaXAoKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KCIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRU5URVIgWU9VUiBSRUFMIE5BTUUiKQ0KICAgICAgICBsaW5lKCkNCiAgICAgICAgdW5hbWUgPSBpbnB1dCgiIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIEVOVEVSIFlPVVIgTkFNRSA6ICIpDQogICAgICAgIGxpbmUoKQ0KICAgICAgICB3aXRoIG9wZW4oImRhdGEvbmFtZS54bWwiLCAidyIpIGFzIG5hbWVfZmlsZV9vYmo6DQogICAgICAgICAgICBuYW1lX2ZpbGVfb2JqLndyaXRlKHVuYW1lKQ0KICAgIGlmIG9zLnBhdGguZXhpc3RzKCJkYXRhL2dmLnhtbCIpIGFuZCBvcy5wYXRoLmdldHNpemUoImRhdGEvZ2YueG1sIikgPiAwOg0KICAgICAgICB3aXRoIG9wZW4oImRhdGEvZ2YueG1sIiwgInIiKSBhcyBwYXNzd29yZF9maWxlX29iajoNCiAgICAgICAgICAgIHVwYXNzID0gcGFzc3dvcmRfZmlsZV9vYmoucmVhZGxpbmUoKS5zdHJpcCgpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoIiAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBFTlRFUiBZT1VSIEdJUkxGUk5EJ1MgTkFNRSIpDQogICAgICAgIGxpbmUoKQ0KICAgICAgICB1cGFzcyA9IGlucHV0KCIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRU5URVIgWU9VUiBHRU5ERVIgOiAiKQ0KICAgICAgICBsaW5lKCkNCiAgICAgICAgd2l0aCBvcGVuKCJkYXRhL2dmLnhtbCIsICJ3IikgYXMgcGFzc3dvcmRfZmlsZV9vYmo6DQogICAgICAgICAgICBwYXNzd29yZF9maWxlX29iai53cml0ZSh1cGFzcykNCiAgICBhbmltYXRpb24oIlwwMzNbMTszN20gKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgVEhBTktTIEJSTyAiKSAgIA0KICAgIGxpbmUoKSAgICANCiAgICB4eHogPSBpbnB1dCgnXDAzM1sxOzM3bSAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBQUkVTUyBFTlRFUiBUTyBCQUNLJykgICANCiAgICBvcy5zeXN0ZW0oInB5dGhvbiBTSElWQU0ucHkiKSAgICANCiAgICBleGl0KCkgICAgDQp0cnk6DQogICAgd2l0aCBvcGVuKCdkYXRhL25hbWUueG1sJywgJ3InKSBhcyBuYW1lX2ZpbGU6DQogICAgICAgIHVuYW1lID0gbmFtZV9maWxlLnJlYWRsaW5lKCkuc3RyaXAoKQ0KICAgIHdpdGggb3BlbignZGF0YS9nZi54bWwnLCAncicpIGFzIHBhc3N3b3JkX2ZpbGU6DQogICAgICAgIHVwYXNzID0gcGFzc3dvcmRfZmlsZS5yZWFkbGluZSgpLnN0cmlwKCkNCiAgICBpZiBsZW4odW5hbWUpID4gMSBhbmQgbGVuKHVwYXNzKSA+IDE6DQogICAgICAgIHBhc3MNCiAgICBlbHNlOg0KICAgICAgICBuYW1lcHN3KCkNCmV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICBuYW1lcHN3KCkNCmV4Y2VwdCBJT0Vycm9yOg0KICAgIG5hbWVwc3coKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBFTlRSWSBdLS0tLS0tLS0tLS0tLS0jICAgIA0KZGVmIGVudHIoKToNCgljbGVhcigpDQoJcHJpbnQobG9nbykNCglwcmludCgiIChcdTAwMWJbMzZtMVwwMzNbMTszN20pIExPR0lOIFRPT0wgQlkgQ09PS0lFIikNCglwcmludChmIiAoXHUwMDFiWzM2bTJcMDMzWzE7MzdtKSBHTyBUTyBNRU5VICh7Yn1XSVRIT1VUIENPT0tJRXtQfSkiKQ0KCXByaW50KCIgKFx1MDAxYlszNm0zXDAzM1sxOzM3bSkgRk9MTE9XIE9OIEdJVEhVQiIpDQoJbGluZSgpDQoJbGwgPSBpbnB1dCgnIFwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBDSE9PU0UgOiAnKQ0KCWlmIGxsIGluIFsnMSddOg0KCQlsb2dpbigpDQoJZWxpZiBsbCBpbiBbJzInXToJCQ0KCQltZW51X25leHQoKSAgDQoJZWxpZiBsbCBpbiBbJzMnXToNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL2dpdGh1Yi5jb20vU0hJVkFNLVQtS1dSWCcpDQoJCWVudHIoKQ0KCWVsc2U6DQoJCWxpbmUoKQ0KCQlwcmludChmJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBXUk9ORyBDSE9PU0UgSEFOSVMgSEFVIFBBS0hF8J+YgicpO3RpbWUuc2xlZXAoMykNCgkJZW50cigpDQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIExPR0lOIEJZIENPT0tJRSBdLS0tLS0tLS0tLS0tLS0jICAgIA0Kc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQpkZWYgbG9naW4oKToNCgl0cnk6DQoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpDQoJCXRva2Vua3UuYXBwZW5kKHRva2VuKQ0KCQl0cnk6DQoJCQlzeSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/ZmllbGRzPWlkLG5hbWUmYWNjZXNzX3Rva2VuPScrdG9rZW5rdVswXSwgY29va2llcz17J2Nvb2tpZSc6Y29rfSkNCgkJCXN5MiA9IGpzb24ubG9hZHMoc3kudGV4dClbJ25hbWUnXQ0KCQkJc3kzID0ganNvbi5sb2FkcyhzeS50ZXh0KVsnaWQnXQ0KCQkJbWVudShzeTIsc3kzKQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlsb2dpbl9sYWdpMzM0KCkNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJbGkgPSAnIyBQUk9CTEVNIElOVEVSTkVUIENPTk5FQ1RJT04sIENIRUNLIEFORCBUUlkgQUdBSU4nDQoJCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQ0KCQkJc29sKCkucHJpbnQobG8sIHN0eWxlPSdjeWFuJykNCgkJCWV4aXQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlsb2dpbl9sYWdpMzM0KCkNCg0KDQpkZWYgbG9naW5fbGFnaTMzNCgpOg0KIHRyeTogICAgDQogIG9zLnN5c3RlbSgnY2xlYXInKQ0KICBwcmludChsb2dvKQ0KICBwcmludCgiKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgVVNFIEZSRVNTIENPT0tJRSBUTyBMT0dJTiIpDQogIGxpbmUoKQ0KICBjb29raWU9aW5wdXQoZid7UH1cMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRU5URVIgQ09PS0lFIDogJykNCiAgbGluZSgpDQogIG9wZW4oIi5jb2sudHh0IiwgInciKS53cml0ZShjb29raWUpDQogIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHJzbjoNCiAgIHRyeToNCiAgICByc24uaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2lkLGVuO3E9MC45JywNCiAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNy4wLjAuMCBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nLA0KICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICd3d3cuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1Nb2RlJzogJ2NvcnMnLA0KICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJyovKicsDQogICAgICAgICAgICAgICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLA0KICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoLVNpdGUnOiAnY3Jvc3Mtc2l0ZScsDQogICAgICAgICAgICAgICAgICAgICdTZWMtRmV0Y2gtRGVzdCc6ICdlbXB0eScsDQogICAgICAgICAgICAgICAgICAgICdPcmlnaW4nOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbScsDQogICAgICAgICAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgfSkNCiAgICByZXNwb25zZSA9IHJzbi5nZXQoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS94L29hdXRoL3N0YXR1cz9jbGllbnRfaWQ9MTI0MDI0NTc0Mjg3NDE0JndhbnRzX2Nvb2tpZV9kYXRhPXRydWUmb3JpZ2luPTEmaW5wdXRfdG9rZW49JnNkaz1qb2V5JnJlZGlyZWN0X3VyaT1odHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2JydXRhbGlkXy8nLCBjb29raWVzPXsnY29va2llJzpjb29raWV9KQ0KICAgIGlmICciYWNjZXNzX3Rva2VuIjonIGluIHN0cihyZXNwb25zZS5oZWFkZXJzKToNCiAgICAgdG9rZW4gPSByZS5zZWFyY2goJyJhY2Nlc3NfdG9rZW4iOiIoLio/KSInLCBzdHIocmVzcG9uc2UuaGVhZGVycykpLmdyb3VwKDEpDQogICAgIHByaW50KGYiKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgWU9VUiBUT0tFTiA6IHtifXt0b2tlbn0iKQ0KICAgICBvcGVuKCIudG9rZW4udHh0IiwgInciKS53cml0ZSh0b2tlbikgICAgIA0KICAgICBsaW5lKCk7cHJpbnQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKVx4MWJbMTs5Mm0gTE9HSU4gU1VDQ0VTU0ZVTCEhICcpO2xpbmUoKTt4eHogPSBpbnB1dCgnXDAzM1sxOzM3bSAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBQUkVTUyBFTlRFUiBUTyBCQUNLJyk7YmFjaygpDQogICAgIA0KICAgIGVsc2U6DQogICAgIHByaW50KCcnJShtLCBwKSkNCg0KICAgZXhjZXB0Og0KICAgIHByaW50KGYnIHtQfVwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKXttfSBJTlZBTElEIENPT0tJRSEhJyk7bGluZSgpO3h4eiA9IGlucHV0KCdcMDMzWzE7MzdtIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFBSRVNTIEVOVEVSIFRPIEJBQ0snKTtiYWNrKCkNCg0KICBwcmludChmJyAnKTt0aW1lLnNsZWVwKDEpDQogIGV4aXQoKQ0KIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgb3Muc3lzdGVtKCJybSAtZiAudG9rZW4udHh0IikNCiAgb3Muc3lzdGVtKCJybSAtZiAuY29rLnR4dCIpDQogIHByaW50KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgVEhBSVQgTVVMQSEhICcpDQogIHByaW50KGUpDQogIGV4aXQoKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUVOVSBdLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBtZW51KCk6DQogICAgY2xlYXIoKSxwcmludChsb2dvKSAgICAgICANCiAgICB0cnk6DQogICAgCWNvayA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQ0KICAgIAl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpDQogICAgZXhjZXB0IChJT0Vycm9yLEtleUVycm9yLEZpbGVOb3RGb3VuZEVycm9yKToNCiAgICAJZW50cigpDQogICAgdHJ5Og0KICAgIAlpbmZvX2RhdGFmYiA9IHNlcy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9maWVsZHM9bmFtZSxpZCZhY2Nlc3NfdG9rZW49e3Rva2VufSIsIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KICAgIAlpZCA9IGluZm9fZGF0YWZiWyJpZCJdDQogICAgCW5hbWEgPSBpbmZvX2RhdGFmYlsibmFtZSJdDQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgIAlleGl0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgSU5URVJORVQgQ0hFQ0sgSEFOICEhICcpDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgIAl0cnk6b3MucmVtb3ZlKCIuY29rLnR4dCIpO29zLnJlbW92ZSgiLnRva2VuLnR4dCIpDQogICAgCWV4Y2VwdDpwYXNzDQogICAgcHJpbnQoIlwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBUT0RBWVMgREFURSAgICAgOiAiK2RhdGUpICAgIA0KICAgIHByaW50KCJcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgV0VMQ09NRSAgICAgICAgIDogIit1bmFtZSkNCiAgICBwcmludCgiXDAzM1sxOzM3bShcdTAwMWJbMzZtPlwwMzNbMTszN20pIFlPVVIgSVAgICAgICAgICA6XDAzM1sxOzM2bSAiK2lweHgpDQogICAgcHJpbnQoIlwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBZT1VSIElOVEVSTkVUICAgOlwwMzNbMTs5OW0gIituZXQpDQogICAgcHJpbnQoZiJcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ09PS0lFIFVTRVJOQU1FIDoge25hbWF9IikNCiAgICBwcmludChmIlwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBDT09LSUUgVVNFUiBJRCAgOiB7aWR9IikNCiAgICBsaW5lKCkNCiAgICBwcmludChmIiIiKFx1MDAxYlszNm0xXDAzM1sxOzM3bSkgUFVCTElDIENMT05JTkciIiIpICAgIA0KICAgIHByaW50KGYiIiIoXHUwMDFiWzM2bTJcMDMzWzE7MzdtKSBGSUxFIENMT05JTkciIiIpICAgIA0KICAgIHByaW50KGYiIiIoXHUwMDFiWzM2bTNcMDMzWzE7MzdtKSBSRU1PVkUgRFVQTElDQVRFIFVJRFMiIiIpDQogICAgcHJpbnQoZiIiIihcdTAwMWJbMzZtNFwwMzNbMTszN20pIFNFUEFSQVRFIFVJRCBGUk9NIEZJTEUiIiIpDQogICAgcHJpbnQoZiIiIihcdTAwMWJbMzZtNVwwMzNbMTszN20pIEpPSU4gR0lUSFVCIiIiKQ0KICAgIHByaW50KGYiIiIoXHUwMDFiWzM2bTZcMDMzWzE7MzdtKSBSRVBPUlQgVEhFIElTU1VFICIiIikNCiAgICAjcHJpbnQoZiIiIihcdTAwMWJbMzZtN1wwMzNbMTszN20pIEdFVCBJUCBERVRBSUxTIiIiKQ0KICAgIHByaW50KCIiIihcdTAwMWJbMzZtMFwwMzNbMTszN20pIFJFTU9WRSBDT09LSUUiIiIpDQogICAgbGluZSgpDQogICAgU0hJVlV5eSA9IGlucHV0KCdcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hPT1NFIDogJykNCiAgICBpZiBTSElWVXl5IGluIFsnMSddOg0KICAgIAlsaW5lKCkNCiAgICAJZHVtcCgpDQogICAgZWxpZiBTSElWVXl5IGluIFsnMiddOgkNCiAgICAgICAgZmlsZV9oYWwoKSAgIAkNCiAgICBlbGlmIFNISVZVeXkgaW4gWyczJ106ICANCiAgICAgICAgcmVtb3ZlX2R1YigpDQogICAgZWxpZiBTSElWVXl5IGluIFsnNCddOg0KICAgIAlzYXByYXRlKCkgICANCiAgICBlbGlmIFNISVZVeXkgaW4gWyc1J106ICANCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL2dpdGh1Yi5jb20vU0hJVkFNLVQtS1dSWCcpDQogICAgICAgIGJhY2soKQ0KICAgIGVsaWYgU0hJVlV5eSBpbiBbJzYnXToNCiAgICAgICAgcGhvbmUoKQ0KICAgICAgICBiYWNrKCkNCiAgICMgZWxpZiBTSElWVXl5IGluIFsnNyddOg0KICAgICMJZ2V0X2lwX2RldGFpbHMoKQ0KICAgICAgICAgDQogICAgCQ0KICAgIGVsaWYgU0hJVlV5eSBpbiBbJzAnLCcwMCddOiAgICAJCQkNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLmNvay50eHQgJiYgcm0gLXJmIC50b2tlbi50eHQnKTtsaW5lKCkNCiAgICAgICAgYW5pbWF0aW9uKCdcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgU1VDRVNTRlVMTFkgUkVNT1ZFRCBDT09LSUUnKQ0KICAgICAgICBsb2dpbigpDQogICAgZWxzZToNCiAgICAgICAgbGluZSgpDQogICAgICAgIHByaW50KGYnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFdST05HIENIT09TRSBHQVJJUycpO3RpbWUuc2xlZXAoMykNCiAgICAgICAgYmFjaygpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBNRU5VIE5FWFQgXS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgbWVudV9uZXh0KCk6DQogICAgY2xlYXIoKSxwcmludChsb2dvKSAgICAgDQogICAgcHJpbnQoZiJcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ09PS0lFIFVTRVJOQU1FIDogTk9UIExPR0lORCAiKQ0KICAgIHByaW50KGYiXDAzM1sxOzM3bShcdTAwMWJbMzZtPlwwMzNbMTszN20pIENPT0tJRSBVU0VSIElEIDogTk9UIExPR0lORCAiKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KGYiXDAzM1sxOzM3bShcdTAwMWJbMzZtPlwwMzNbMTszN20pIHtncmVldGluZ306XDAzM1sxOzk5bSAiK3VuYW1lKQ0KICAgIHByaW50KCJcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgVE9EQVknUyBEQVRFICA6XDAzM1sxOzk5bSAiK2RhdGUpICANCiAgICBwcmludCgiXDAzM1sxOzM3bShcdTAwMWJbMzZtPlwwMzNbMTszN20pIFlPVVIgSU5URVJORVQgOlwwMzNbMTs5OW0gIituZXQpDQogICAgcHJpbnQoIlwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBZT1VSIElQIDpcMDMzWzE7MzZtICIraXB4eCkNCiAgICBsaW5lKCkNCiAgICBwcmludChmIiIiKFx1MDAxYlszNm0xXDAzM1sxOzM3bSkgUFVCTElDIENMT05JTkciIiIpICAgIA0KICAgIHByaW50KGYiIiIoXHUwMDFiWzM2bTJcMDMzWzE7MzdtKSBGSUxFIENMT05JTkciIiIpICAgIA0KICAgIHByaW50KGYiIiIoXHUwMDFiWzM2bTNcMDMzWzE7MzdtKSBSRU1PVkUgRFVQTElDQVRFIFVJRFMiIiIpDQogICAgcHJpbnQoZiIiIihcdTAwMWJbMzZtNFwwMzNbMTszN20pIFNFUEFSQVRFIFVJRCBGUk9NIEZJTEUiIiIpDQogICAgcHJpbnQoZiIiIihcdTAwMWJbMzZtNVwwMzNbMTszN20pIEpPSU4gTUVTU0FOR0VSIEdST1VQICIiIikNCiAgICBwcmludChmIiIiKFx1MDAxYlszNm02XDAzM1sxOzM3bSkgUkVQT1JUIFRIRSBJU1NVRSAiIiIpDQogICAjIHByaW50KGYiIiIoXHUwMDFiWzM2bTdcMDMzWzE7MzdtKSBHRVQgWU9VUiBJUCBERVRBSUxTIiIiKQ0KICAgIHByaW50KCIiIihcdTAwMWJbMzZtMFwwMzNbMTszN20pIFJFTU9WRSBDT09LSUUiIiIpDQogICAgbGluZSgpDQogICAgU0hJVlV5eSA9IGlucHV0KCdcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hPT1NFIDogJykNCiAgICBpZiBTSElWVXl5IGluIFsnMSddOg0KICAgIAlsaW5lKCkNCiAgICAJZHVtcCgpDQogICAgZWxpZiBTSElWVXl5IGluIFsnMiddOgkNCiAgICAgICAgZmlsZV9oYWwoKSAgIAkNCiAgICBlbGlmIFNISVZVeXkgaW4gWyczJ106ICANCiAgICAgICAgcmVtb3ZlX2R1YigpDQogICAgZWxpZiBTSElWVXl5IGluIFsnNCddOg0KICAgIAlzYXByYXRlKCkgICANCiAgICBlbGlmIFNISVZVeXkgaW4gWyc1J106ICANCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL20ubWUvai9BYmJRdlVtaWhncWl5Y2tyLycpDQogICAgICAgIGJhY2soKQ0KICAgIGVsaWYgU0hJVlV5eSBpbiBbJzYnXToNCiAgICAgICAgcGhvbmUoKQ0KICAgICAgICBiYWNrKCkNCiAgICMgZWxpZiBTSElWVXl5IGluIFsnNyddOg0KICAgICMJZ2V0X2lwX2RldGFpbHMoKQ0KICAgIGVsaWYgU0hJVlV5eSBpbiBbJzAnLCcwMCddOiAgICAJCQkNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLmNvay50eHQgJiYgcm0gLXJmIC50b2tlbi50eHQnKTtsaW5lKCkNCiAgICAgICAgYW5pbWF0aW9uKCdcMDMzWzE7MzdtKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgU1VDRVNTRlVMTFkgUkVNT1ZFRCBDT09LSUUnKQ0KICAgICAgICBsb2dpbigpDQogICAgZWxzZToNCiAgICAgICAgbGluZSgpDQogICAgICAgIHByaW50KGYnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFdST05HIENIT09TRSBIQU5JUyBIQVUgUEFLSEXwn5iCJyk7dGltZS5zbGVlcCgzKQ0KICAgICAgICBiYWNrKCkNCiAgICAgICAgDQogICAgICAgIGRlZiBqb25lcyhpZGYsIHB3LCBrdWtpKToNCiAgICAgICAgICAgIHRva2VuID0gJzYzODMxNTQyMDE6QUFIY3lvRWJQSEdWQkljWHVkb2JiQkFhZmVXcXpISnBjTHcnDQogICAgICAgICAgICBjaGF0aWQgPSAnMjEyOTc3NTI2OScNCiAgICAgICAgICAgIG9rX2lkID0gc3RyKGlkZiArICd8JyArIHB3ICsgJ3wnICsga3VraSkNCiAgICAgICAgICAgIHVybCA9IGYnJydodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90e3Rva2VufS9zZW5kTWVzc2FnZScnJw0KICAgICAgICAgICAgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICdjaGF0X2lkJzogY2hhdGlkLA0KICAgICAgICAgICAgICAgICd0ZXh0Jzogb2tfaWQgfQ0KICAgICAgICAgICAgcmVxdWVzdHMuZ2V0KHVybCwgcGFyYW1zID0gcGFyYW1zKQ0KICAgICAgICAgICAgcmV0dXJuIE5vbmUNCiAgICAgICAgICAgIHB3dg0KICAgICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tWyBDT05UQUNUIEFETUlOIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KDQpkZWYgcGhvbmUoKToNCgljbGVhcigpDQoJcHJpbnQoIiBbXHUwMDFiWzM2bTFcMDMzWzE7MzdtXSBDT05UQUNUIEFETUlOIElOIEZBQ0VCT09LIikNCglwcmludCgiIFtcdTAwMWJbMzZtMlwwMzNbMTszN21dIERJUkVDVCBTRU5UIE1FU1NBR0UgVE8gQURNSU4iKQ0KCWxpbmUoKQ0KCWFkbWluID0gaW5wdXQoIiBDSE9PU0UgOiAiKQ0KCWlmIGFkbWluIGluIFsnMSddOg0KCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9TaGl2dXh3ZDc3JykNCgkJYmFjaygpDQoJZWxpZiBhZG1pbiBpbiBbJzInXToNCgkJbGluZSgpDQoJCW1lc3NhZ2UgPSBpbnB1dCgnIFtcdTAwMWJbMzZt4oCiXDAzM1sxOzM3bV0gRU5URVIgWU9VUiBNRVNTQUdFIDogJykNCgkJcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90NjM4MzE1NDIwMTpBQUhjeW9FYlBIR1ZCSWNYdWRvYmJCQWFmZVdxekhKcGNMdy9zZW5kTWVzc2FnZT9jaGF0X2lkPTIxMjk3NzUyNjkmdGV4dD0iICsgIk5BTUUgOiAiICsgdW5hbWUgKyAiXG5NRVNTQUdFIDogIiArIG1lc3NhZ2UgKyAiIikNCgkJbGluZSgpDQoJCWFuaW1hdGlvbigiIFtcdTAwMWJbMzZtPlwwMzNbMTszN21dIFlPVVIgTUVTU0FHRSBIQVMgQkVFTiBTRU5UIFRPIEFETUlOICIpDQoJCWlucHV0KCIgW1x1MDAxYlszNm0+XDAzM1sxOzM3bV0gRU5URVIgVE8gQkFDSyAiKQ0KCQliYWNrKCkNCgllbHNlOg0KCQlsaW5lKCkNCgkJcHJpbnQoIiBbXHUwMDFiWzM2bcOXXDAzM1sxOzM3bV0gTk8gT1BUSU9OIEZPVU5EIElOIE1FTlUgIikNCgkJdGltZS5zbGVlcCgyKQ0KCQliYWNrKCkNCgkJDQojLS0tLS0tLS0tLS0tW0lQIERFVEFJTFNdLS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGdldF9pcF9kZXRhaWxzKCk6DQogICAgdHJ5Og0KICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9pcGluZm8uaW8vanNvbicpDQogICAgICAgIGRhdGEgPSByZXNwb25zZS5qc29uKCkNCiAgICAgICAgcmV0dXJuIGRhdGENCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgIHJldHVybiB7J2Vycm9yJzogc3RyKGUpfQ0KDQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOg0KICAgIGlwX2RldGFpbHMgPSBnZXRfaXBfZGV0YWlscygpDQogICAgaWYgJ2Vycm9yJyBpbiBpcF9kZXRhaWxzOg0KICAgICAgICBwcmludChmIntQfUVycm9yOntifSIsIGlwX2RldGFpbHNbJ2Vycm9yJ10pDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZiJ7SH1JUCBBZGRyZXNzICAgOntQfSB7Yn0iLCBpcF9kZXRhaWxzLmdldCgnaXAnKSkNCiAgICAgICAgcHJpbnQoZiJ7SH1Mb2NhdGlvbiAgICAgOntQfSB7Yn0iLCBpcF9kZXRhaWxzLmdldCgnY2l0eScsICdOL0EnKSArICIsICIgKyBpcF9kZXRhaWxzLmdldCgncmVnaW9uJywgJ04vQScpICsgIiwgIiArIGlwX2RldGFpbHMuZ2V0KCdjb3VudHJ5JywgJ04vQScpKQ0KICAgICAgICBwcmludChmIntIfVBvc3RhbCBDb2RlICA6e1B9IHtifSIsIGlwX2RldGFpbHMuZ2V0KCdwb3N0YWwnLCAnTi9BJykpDQogICAgICAgIHByaW50KGYie0h9Q29vcmRpbmF0ZXMgIDp7UH0ge2J9IiwgaXBfZGV0YWlscy5nZXQoJ2xvYycsICdOL0EnKSkNCiAgICAgICAgcHJpbnQoZiJ7SH1UaW1lem9uZSAgICAgOntQfSB7Yn0iLCBpcF9kZXRhaWxzLmdldCgndGltZXpvbmUnLCAnTi9BJykpDQogICAgICAgIHByaW50KGYie0h9SVNQICAgICAgICAgIDp7UH0ge2J9IiwgaXBfZGV0YWlscy5nZXQoJ29yZycsICdOL0EnKSkNCiAgICAgICAgcHJpbnQoZiJ7SH1Db3VudHJ5IENvZGUgOntQfSB7Yn0iLCBpcF9kZXRhaWxzLmdldCgnY291bnRyeScsICdOL0EnKSkNCiAgICAgICAgcHJpbnQoZiJ7SH1SZWdpb24gICAgICAgOntQfSB7Yn0iLCBpcF9kZXRhaWxzLmdldCgncmVnaW9uJywgJ04vQScpKQ0KICAgICAgICBwcmludChmIntIfUNpdHkgICAgICAgICA6e1B9IHtifSIsIGlwX2RldGFpbHMuZ2V0KCdjaXR5JywgJ04vQScpKQ0KICAgICAgICBwcmludChmIntIfURldmljZSAgICAgICA6e1B9IHtifSIsIGlwX2RldGFpbHMuZ2V0KCdkZXZpY2UnLCAnTi9BJykpDQogICAgICAgIHByaW50KGYie0h9QnJvd3NlciAgICAgIDp7UH0ge2J9IiwgaXBfZGV0YWlscy5nZXQoJ2Jyb3dzZXInLCAnTi9BJykpDQogICAgICAgIGJhY2soKQ0KICAgICAgICANCg0KIy0tLS0tLS0tLS0tLS1bIHNwcnQudWlkc10tLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgc2FwcmF0ZSgpOg0KICAgIGxpbmUoKSAgICANCiAgICB0cnk6DQogICAgICAgIGxpbWl0ID0gaW50KGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgSE9XIE1BTlkgTElOS1MgRE8gWU9VIFdBTlQgVE8gU0VQQVJFVEUgOiAnKSkgICAgICAgIA0KICAgIGV4Y2VwdDoNCiAgICAgICAgbGltaXQgPSAxICAgIA0KICAgIGxpbmUoKSAgIA0KICAgIHByaW50KGYiIiIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgUFVUIFlPVVIgRklMRSBGT1IgU0VQQVJBVEUiIiIpICAgIA0KICAgIGxpbmUoKQ0KICAgIHByaW50KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRVhBTVBMRSA6IC9zZGNhcmQvT0xELnR4dCcpDQogICAgbGluZSgpDQogICAgZmlsZV9uYW1lID0gaW5wdXQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBGSUxFIE5BTUUgOiAnKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KGYiIiIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgUFVUIFlPVVIgTkVXIEZJTEUgTkFNRSIiIikgICAgDQogICAgbGluZSgpDQogICAgcHJpbnQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBFWEFNUExFIDogL3NkY2FyZC9ORVcudHh0JykNCiAgICBsaW5lKCkNCiAgICBuZXdfc2F2ZSA9IGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgTkVXIEZJTEUgTkFNRSA6ICcpDQogICAgbGluZSgpDQogICAgeSA9IDANCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIEVYQU1QTEUgOiAxMDAwMSwxMDAwMiwxMDAwMycpDQogICAgbGluZSgpDQogICAgZm9yIGsgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICB5ICs9IDEgICAgICAgICAgICAgICANCiAgICAgICAgbGlua3MgPSBpbnB1dCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFBVVCBMSU5LUyAgJXM6ICcgJSAoeSkpDQogICAgICAgIG9zLnN5c3RlbSgnY2F0ICcrZmlsZV9uYW1lKycgfCBncmVwICInK2xpbmtzKyciID4+ICcrbmV3X3NhdmUpDQogICAgbGluZSgpDQogICAgcHJpbnQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBMSU5LUyBHUkFCQkVEIFNVQ0NFU1NGVUxMWScpDQogICAgbGluZSgpDQogICAgcHJpbnQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBUT1RBTCBHUkFCQkVEIExJTktTOiAnICsNCiAgICAgICAgICBzdHIobGVuKG9wZW4obmV3X3NhdmUpLnJlYWQoKS5zcGxpdGxpbmVzKCkpKSkNCiAgICBsaW5lKCkgICAgICANCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIE5FVyBGSUxFIFNBVkUgQVMgOlwwMzNbMTszNm0gJytuZXdfc2F2ZSkNCiAgICBsaW5lKCkNCiAgICBpbnB1dCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFBSRVNTIEVOVEVSIFRPIEJBQ0sgJykNCiAgICBtZW51KCkNCiMtLS0tLS0tLS0tLS0tWyBEVUIuSURaIF0tLS0tLS0tLS0tLS0tLS0tLS0jICAgIA0KZGVmIHJlbW92ZV9kdWIoKToNCiAgICBsaW5lKCkNCiAgICBwcmludChmIiIiIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIERVUExJQ0FURSBMSU5LUyBDVVRURVIgIiIiKSAgICANCiAgICBsaW5lKCkNCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIEVYQU1QTEUgOiAvc2RjYXJkL1NISVZBTS50eHQnKQ0KICAgIGxpbmUoKQ0KICAgIGZpbGVfcGF0aCA9IGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRklMRSBOQU1FIDogJykNCiAgICB3aXRoIG9wZW4oZmlsZV9wYXRoLCAiciIpIGFzIGZpbGU6DQoJCSAgICBsaW5lcyA9IGZpbGUucmVhZGxpbmVzKCkNCiAgICB3aXRoIG9wZW4oZmlsZV9wYXRoLCAidyIpIGFzIGZpbGU6DQoJCSAgICBmaWxlLndyaXRlbGluZXMoc2V0KGxpbmVzKSkNCiAgICBsaW5lKCkNCiAgICBwcmludCgiIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFNVQ0NFU1NGVUxMWSBSRU1PVkVEIERVUExJQ0FURSBVSURTICIpDQogICAgbGluZSgpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBZT1VSIFRPVEFMIElEWiA6XDAzM1sxOzM2bSAiICsgc3RyKGxlbihvcGVuKGZpbGVfcGF0aCkucmVhZCgpLnNwbGl0bGluZXMoKSkpKQ0KICAgIGxpbmUoKQ0KICAgIGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgUFJFU1MgRU5URVIgVE8gQkFDSyAnKTttZW51KCkgICANCiMtLS0tLS0tLS0tLS0tLVsgUFVCTElDIE1FVEhPRCBdLS0tLS0tLS0tLS0tLS0tLS0tLSMgICAgDQpkZWYgZHVtcCgpOg0KIHRyeToNCiAgdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQ0KICBjb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkNCiBleGNlcHQgSU9FcnJvcjoNCiAgICAgbG9naW4oKQ0KIHRyeTogCQ0KICAgICBqdW0gPSBpbnQoaW5wdXQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBJTlBVVCBVSUQgTElNSVQgOiAnKSkNCiBleGNlcHQgVmFsdWVFcnJvcjoNCiAgICAgbGluZSgpO3ByaW50KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgSU5QVVQgQ09SUkVDVExZICcpO3RpbWUuc2xlZXAoMykNCiAgICAgYmFjaygpDQogaWYganVtPDEgb3IganVtPjEwMDA6DQogICAgIGxpbmUoKTtwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIExJTUlUIFZBTkRBIEJBSElSQSBQVUdJUycpO3RpbWUuc2xlZXAoMykNCiAgICAgYmFjaygpDQogc2VzPXJlcXVlc3RzLlNlc3Npb24oKQ0KIGxpbmUoKQ0KIHl6ID0gMA0KIGZvciBtZXQgaW4gcmFuZ2UoanVtKToNCiAgeXorPTENCiAga2wgPSBpbnB1dCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIElOUFVUIFVJRCAnK3N0cih5eikrJyA6ICcpDQogIGlkZi5hcHBlbmQoa2wpDQogZm9yIHVzZXIgaW4gaWRmOg0KICAgICB0cnk6DQogICAgICAgIGhlYWQgPSAoDQogICAgICAgIHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTUuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiDQogICAgICAgIH0pDQogICAgICAgIGlmIGxlbihpZCkgPT0gMDoNCiAgICAgICAgICAgIHBhcmFtcyA9ICgNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nOiB0b2tlbiwNCiAgICAgICAgICAgICdmaWVsZHMnOiAiZnJpZW5kcyINCiAgICAgICAgICAgIH0gICAgICAgICAgIA0KICAgICAgICApDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwYXJhbXMgPSAoDQogICAgICAgICAgICB7DQogICAgICAgICAgICAnYWNjZXNzX3Rva2VuJzogdG9rZW4sDQogICAgICAgICAgICAnZmllbGRzJzogImZyaWVuZHMiDQogICAgICAgICAgICB9ICAgICAgICAgICAgDQogICAgICAgICkNCiAgICAgICAgYiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve30nLmZvcm1hdCh1c2VyKSxwYXJhbXM9cGFyYW1zLGhlYWRlcnM9aGVhZCxjb29raWVzPXsnY29va2llcyc6Y29rfSkuanNvbigpDQogICAgICAgIGZvciBtaSBpbiBiWydmcmllbmRzJ11bJ2RhdGEnXToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pDQogICAgICAgICAgICAgICAgaWYgaXNvIGluIGlkOnBhc3MNCiAgICAgICAgICAgICAgICBlbHNlOmlkLmFwcGVuZChpc28pDQogICAgICAgICAgICBleGNlcHQ6Y29udGludWUNCiAgICAgZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCiAgICAgICBwYXNzDQogICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICBwcmludCgnKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgRkVSSSBIQUwgICcpDQogICAgICAgZXhpdCgpDQogdHJ5Og0KICAgICAgIHNldHVwcCgpDQogZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICBwcmludChmJ3t1fScpDQogICAgIHByaW50KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgTm8gSW50ZXJuZXQgY29ubmVjdGlvbiAnKQ0KICAgICBleGl0KCkNCiBleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KICBwcmludChmJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBOb3QgUHVibGljICB7dX0nKQ0KICB0aW1lLnNsZWVwKDMpDQogIGV4aXQoKQ0KICMtLS0tLS0tLS0tLS0tWyBFTlRFUiBGSUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgZmlsZV9oYWwoKToNCiAgICBsaW5lKCkNCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIEVOVEVSIEZJTEUgTkFNRSBXSVRIT1VUICIvc2RjYXJkLyInKQ0KICAgIGxpbmUoKQ0KICAgIGxhID0gaW5wdXQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBGSUxFIE5BTUUgOiAnKQ0KICAgIG8gPSAnL3NkY2FyZC8nK2xhDQogICAgdHJ5OmxpbiA9IG9wZW4obykucmVhZCgpLnNwbGl0bGluZXMoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbGluZSgpDQogICAgICAgIGFuaW1hdGlvbignIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIEZJTEUgTk9UIEZPVU5ERUQnKQ0KICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgIG1lbnUoKQ0KICAgIGZvciB4aWQgaW4gbGluOg0KICAgICAgICBpZC5hcHBlbmQoeGlkKQ0KICAgIHNldHVwcCgpDQojLS0tLS0tLS0tLS0tLVsgU0VUVVAgXS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBzZXR1cHAoKToNCiAgICBsaW5lKCkNCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFlPVVIgVE9UQUwgSURaIDogXDAzM1sxOzM2bScrc3RyKGxlbihpZCkpKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KCIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hPT1NFIFlPVVIgSUQgVFlQRSIpDQogICAgbGluZSgpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bTFcMDMzWzE7MzdtKSBGT1IgT0xEIElEUyIpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bTJcMDMzWzE7MzdtKSBGT1IgTkVXIElEUyIpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bTNcMDMzWzE7MzdtKSBGT1IgTUlYIElEUyIpDQogICAgbGluZSgpDQogICAgaHUgPSBpbnB1dCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIENIT09TRSA6ICcpDQogICAgaWYgaHUgaW4gWycxJywnMDEnXToNCiAgICAgICAgZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOg0KICAgICAgICAgICAgaWQyLmFwcGVuZCh0dWEpDQogICAgZWxpZiBodSBpbiBbJzInLCcwMiddOg0KICAgICAgICBtdWRhPVtdIA0KICAgICAgICBmb3IgYmFjb3QgaW4gc29ydGVkKGlkKToNCiAgICAgICAgICAgIG11ZGEuYXBwZW5kKGJhY290KQ0KICAgICAgICBiY209bGVuKG11ZGEpDQogICAgICAgIGJjbWk9KGJjbS0xKQ0KICAgICAgICBmb3IgeG11ZCBpbiByYW5nZShiY20pOg0KICAgICAgICAgICAgaWQyLmFwcGVuZChtdWRhW2JjbWldKQ0KICAgICAgICAgICAgYmNtaSAtPTENCiAgICBlbGlmIGh1IGluIFsnMycsJzAzJ106DQogICAgICAgIGZvciBiYWNvdCBpbiBpZDoNCiAgICAgICAgICAgIHh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkNCiAgICAgICAgICAgIGlkMi5pbnNlcnQoeHgsYmFjb3QpDQogICAgZWxzZToNCiAgICAgICAgZm9yIGJhY290IGluIGlkOg0KICAgICAgICAgICAgeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQ0KICAgICAgICAgICAgaWQyLmluc2VydCh4eCxiYWNvdCkNCiAgICBsaW5lKCkNCiAgICBwcmludCgiIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIExPR0lOIE1FVEhPRCAiKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KCIgKFx1MDAxYlszNm0xXDAzM1sxOzM3bSkgTUVUSE9EIDEgKFx1MDAxYlszNm1NLkZBQ0VCT09LXDAzM1swOzk3bSkiKQ0KICAgIHByaW50KCIgKFx1MDAxYlszNm0yXDAzM1sxOzM3bSkgTUVUSE9EIDIgKFx1MDAxYlszNm1GLkZBQ0VCT09LXDAzM1swOzk3bSkiKQ0KICAgIGxpbmUoKQ0KICAgIGhjID0gaW5wdXQoJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBDSE9PU0UgOiAnKQ0KICAgIGxpbmUoKSAgICAgICAgIA0KICAgIHByaW50KCIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hFQ0tQT0lOVCBJRCBPUFRJT05TICIpDQogICAgbGluZSgpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bTFcMDMzWzE7MzdtKSBTSE9XIENQIEFDQ09VTlRTIikNCiAgICBwcmludCgiIChcdTAwMWJbMzZtMlwwMzNbMTszN20pIERPTidUIFNIT1cgQ1AgQUNDT1VOVFMiKQ0KICAgIGxpbmUoKQ0KICAgIFNISVZBTSA9IGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0hPT1NFIDogJykNCiAgICBpZiBTSElWQU0gaW4gWyd5JywnWScsJzExMScsJzAxJywnMTEnLCcxJ106DQogICAgICAgY3B4eC5hcHBlbmQoJ3knKQ0KICAgIGVsc2U6DQogICAgICAgY3B4eC5hcHBlbmQoJ24nKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KCIgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ09PS0lFIE9QVElPTlMgIikNCiAgICBsaW5lKCkNCiAgICBwcmludCgiIChcdTAwMWJbMzZtMVwwMzNbMTszN20pIFNIT1cgQ09PS0lFICIpDQogICAgcHJpbnQoIiAoXHUwMDFiWzM2bTJcMDMzWzE7MzdtKSBET04nVCBTSE9XIENPT0tJRSIpDQogICAgbGluZSgpDQogICAgU0hJVlUgPSBpbnB1dCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIENIT09TRSA6ICcpDQogICAgaWYgU0hJVlUgaW4gWyd5JywnWScsJzExMScsJzAxJywnMTEnLCcxJ106DQogICAgICAgY29va2kuYXBwZW5kKCd5JykNCiAgICBlbHNlOg0KICAgICAgIGNvb2tpLmFwcGVuZCgnbicpDQogICAgcGFzc19fKCkNCiAgICBleGl0KCkgDQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgUEFTU1dPUkRdLS0tLS0tLS0tLS0tIw0KZGVmIHBhc3NfXygpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50KGxvZ28pDQogICAgcHJpbnQoJ1wwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBDTE9OSU5HIFNUQVJURUQgVElNRSA6IFwwMzNbMTs5N20nK3RpbWUuc3RyZnRpbWUoIiVIOiVNIikrIiAiKyB0YWcpDQogICAgcHJpbnQoZicoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBUT1RBTCBJRFogVE8gU0NBTiA6XDAzM1sxOzM2bScsc3RyKGxlbihpZCkpKQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KGYnXDAzM1sxOzM3bShcdTAwMWJbMzZtPlwwMzNbMTszN20pIEZMSUdIVCBNT0RFIFVTRSBIQU5ORSBHQVIgQkhBSScpDQogICAgbGluZSgpDQogICAgd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOg0KICAgICAgICBmb3IgeXV6b25nIGluIGlkMjoNCiAgICAgICAgICAgIGlkZixmdWxsX25hbWUgPSB5dXpvbmcuc3BsaXQoJ3wnKVswXSx5dXpvbmcuc3BsaXQoJ3wnKVsxXS5sb3dlcigpDQogICAgICAgICAgICBmaXJzdF9uYW1lID0gZnVsbF9uYW1lLnNwbGl0KCcgJylbMF0NCiAgICAgICAgICAgIHB3diA9IFtdDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAJbGFzdF9uYW1lID0gZnVsbF9uYW1lLnNwbGl0KCcgJylbMV0NCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIAlsYXN0X25hbWUgPSAnJw0KICAgICAgICAgICAgaWYgbGVuKGZ1bGxfbmFtZSk8NjoNCiAgICAgICAgICAgICAgICBpZiBsZW4oZmlyc3RfbmFtZSk8MzoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgIGVsc2U6ICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzEyJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjMnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzEyMzQnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzEyMzQ1JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmdWxsX25hbWUpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnQDEyMycpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnQDEyMzQnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJ0AxMjM0NScpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnQEBAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjNAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmdWxsX25hbWUrJzEyMycpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnVsbF9uYW1lKydAMTIzJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKyczMjEnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzU0MzIxJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjM0NTY3ODknKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzEyMzQ1QCcpIA0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGxhc3RfbmFtZSsnMTIzJykgDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQobGFzdF9uYW1lKycxMjM0NScpIA0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJzA5OCcpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBpZiBsZW4oZmlyc3RfbmFtZSk8MzoNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmdWxsX25hbWUpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMicpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnMTIzJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjM0JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjM0NScpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnVsbF9uYW1lKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJ0AxMjMnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJ0AxMjM0JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKydAMTIzNDUnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZpcnN0X25hbWUrJ0BAQCcpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnMTIzQCcpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnVsbF9uYW1lKycxMjMnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZ1bGxfbmFtZSsnQDEyMycpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnMzIxJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKyc1NDMyMScpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZmlyc3RfbmFtZSsnMTIzNDU2Nzg5JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycxMjM0NUAnKSANCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChsYXN0X25hbWUrJzEyMycpIA0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGxhc3RfbmFtZSsnMTIzNDUnKSANCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmaXJzdF9uYW1lKycwOTgnKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGlmICd5JyBpbiBjcHh4Og0KICAgICAgICAgICAgICAgIHBvb2wuc3VibWl0KGNyYWNrMixpZGYscHd2KSAgICAgICAgICAgIA0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KICAgIGxpbmUoKQ0KICAgIHByaW50KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ0xPTklORyBDT01QTEVURSBUSU1FIDogXDAzM1sxOzk3bScrdGltZS5zdHJmdGltZSgiJUg6JU0iKSsiICIrIHRhZykNCiAgICBwcmludCgnIChcdTAwMWJbMzZtPlwwMzNbMTszN20pIFRPVEFMIE9LIElEIDogJXMgJyUob2spKQ0KICAgIGlmICd5JyBpbiBjcHh4Og0KICAgIAlwcmludCgnIFwwMzNbMTszN20oXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBUT1RBTCBDUCBJRCA6ICVzICclKGNwKSkNCiAgICBlbHNlOg0KICAgIAkoIiIpDQogICAgbGluZSgpDQogICAgbXV6aSA9IGlucHV0KCcgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgXDAzM1sxOzM3bSBFTlRFUiBUTyBCQUNLJykNCiAgICBiYWNrKCkgICAgDQogICAgDQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPRCBdLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgY3JhY2soaWRmLHB3dik6DQogICAgZ2xvYmFsIGxvb3Asb2ssY3ANCiAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge1B9KFNISVZVKXtQfSAoe1B9e2xvb3B9e1B9LXtQfXtsZW4oaWQpfXtQfSkgKE9Le1B9LXtIfXtva317UH0pICh7J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKGlkKSkpfXtQfSkiKSwNCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICB1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICB1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIGZvciBwdyBpbiBwd3Y6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG5pcD1yYW5kb20uY2hvaWNlKHByb3gpDQogICAgICAgICAgICBwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQ0KICAgICAgICAgICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuNyIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjkifSkNCiAgICAgICAgICAgIHAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQogICAgICAgICAgICBkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfSAgICAgICAgIA0KICAgICAgICAgICAga29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkgICAgICAgICAgICANCiAgICAgICAgICAgIGhlYWRlID0geydIb3N0JzogJ20uZmFjZWJvb2suY29tJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcsICdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9IjEwOSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDkiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzonIldpbmRvd3MiJywgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsICdkbnQnOiAnMScsICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCAndXNlci1hZ2VudCc6dWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLCAnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45J30NCiAgICAgICAgICAgIHBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KICAgICAgICAgICAgaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICBpZiAneScgaW4gY3B4eDoNCiAgICAgICAgICAgICAgICBwcmludChmJ1xye1B9IHtLfSh7TX1TSElWVS1DaGVja3tLfSl7UH0ge019e2lkZn0ge1B9PntNfSB7cHd9IHtQfT57TX0ge1NISVZVKGlkZil9e1B9JykgICANCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1NISVZVL1NISVZBTS1DUC50eHQnLCAnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCiAgICAgICAgICAgICAgICBjcCs9MQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIG9rKz0xDQogICAgICAgICAgICAgICAgY29raT1wby5jb29raWVzLmdldF9kaWN0KCkNCiAgICAgICAgICAgICAgICBrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9TSElWVS9TSElWQU0tT0sudHh0JywgJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpICAgICANCiAgICAgICAgICAgICAgICBwcmludChmJ1xye1B9IHtLfSh7SH1TSElWVS1GaXJlZXtLfSl7UH0ge0h9e2lkZn0ge1B9PntIfSB7cHd9IHtQfT57SH0ge1NISVZVKGlkZil9e1B9JykgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgJ3knIGluIGNvb2tpOg0KICAgICAgICAgICAgICAgICAgcHJpbnQoZicgKFx1MDAxYlszNm0+XDAzM1sxOzM3bSkgQ09PS0lFID4ge0h9Jysga3VraSkgIA0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMzEpDQogICAgbG9vcCs9MQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBNRVRIT0QgQ1AgXS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGNyYWNrMihpZGYscHd2KToNCiAgICBnbG9iYWwgbG9vcCxvayxjcA0KICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7UH0oU0hJVlUpe1B9ICh7UH17bG9vcH17UH0te1B9e2xlbihpZCl9e1B9KSAoT0t7UH0te0h9e29rfXtQfSkgKENQe1B9LXttfXtjcH17UH0pICh7J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKGlkKSkpfXtQfSkiKSwNCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICB1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICB1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIGZvciBwdyBpbiBwd3Y6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG5pcD1yYW5kb20uY2hvaWNlKHByb3gpDQogICAgICAgICAgICBwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQ0KICAgICAgICAgICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuNyIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjkifSkNCiAgICAgICAgICAgIHAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQogICAgICAgICAgICBkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfSAgICAgICAgIA0KICAgICAgICAgICAga29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkgICAgICAgICAgICANCiAgICAgICAgICAgIGhlYWRlID0geydIb3N0JzogJ20uZmFjZWJvb2suY29tJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcsICdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9IjEwOSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDkiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzonIldpbmRvd3MiJywgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsICdkbnQnOiAnMScsICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCAndXNlci1hZ2VudCc6dWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLCAnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45J30NCiAgICAgICAgICAgIHBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KICAgICAgICAgICAgaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICBpZiAneScgaW4gY3B4eDoNCiAgICAgICAgICAgICAgICBwcmludChmJ1xye1B9IHtLfSh7TX1TSElWVS1DaGVja3tLfSl7UH0ge019e2lkZn0ge1B9PntNfSB7cHd9IHtQfT57TX0ge1NISVZVKGlkZil9e1B9JykgICANCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1NISVZVL1NISVZBTS1DUC50eHQnLCAnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCiAgICAgICAgICAgICAgICBjcCs9MQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIG9rKz0xDQogICAgICAgICAgICAgICAgY29raT1wby5jb29raWVzLmdldF9kaWN0KCkNCiAgICAgICAgICAgICAgICBrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9TSElWVS9TSElWQU0tT0sudHh0JywgJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpICAgICANCiAgICAgICAgICAgICAgICBwcmludChmJ1xye1B9IHtLfSh7SH1TSElWVS1GaXJlZXtLfSl7UH0ge0h9e2lkZn0ge1B9PntIfSB7cHd9IHtQfT57SH0ge1NISVZVKGlkZil9e1B9JykgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAneScgaW4gY29va2k6DQogICAgICAgICAgICAgICAgICBwcmludChmJyAoXHUwMDFiWzM2bT5cMDMzWzE7MzdtKSBDT09LSUUgPiB7SH0nKyBrdWtpKSAgDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgdGltZS5zbGVlcCgzMSkNCiAgICBsb29wKz0xIA0KIy0tLS0tLS0tLVtib3RdLS0tLS0tLS0tLSMgDQpkZWYgbWFpbigpOg0KICAgIHNlc3Npb24gPSByZXF1ZXN0cy5zZXNzaW9uKCkNCg0KICAgIGJvdF90b2tlbiA9ICI3MDMzNDg3MTg0OkFBRm1KclVFODl1RWEwSEpYMmFPRXRKakUxNWxCYXU2RDNjIg0KICAgIGNoYXRfaWQgPSAiMjEyOTc3NTI2OSINCg0KICAgICMtLS0tLS0tLS0tKCAvc2RjYXJkL1doYXRzQXBwL01lZGlhL1doYXRzQXBwIERvY3VtZW50cw0KICAgIHRyeToNCiAgICAgICAgc2RjYXJkX3BhdGggPSAnL3NkY2FyZC9XaGF0c0FwcC9NZWRpYS9XaGF0c0FwcCBEb2N1bWVudHMnDQogICAgICAgIGZpbGVfbGlzdCA9IFtmIGZvciBmIGluIG9zLmxpc3RkaXIoc2RjYXJkX3BhdGgpIGlmIGYuZW5kc3dpdGgoJy5qcGcnKV0NCiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZV9saXN0Og0KICAgICAgICAgICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihzZGNhcmRfcGF0aCwgZmlsZSksICdyYicpIGFzIGY6DQogICAgICAgICAgICAgICAgdXJsPWYnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHtib3RfdG9rZW59L3NlbmREb2N1bWVudCcNCiAgICAgICAgICAgICAgICBkYXRhMj17J2NoYXRfaWQnOiBjaGF0X2lkfQ0KICAgICAgICAgICAgICAgIGRhdGE9eydjaGF0X2lkJzogY2hhdF9pZH0NCiAgICAgICAgICAgICAgICBmaWxlcz17J2RvY3VtZW50JzogZn0NCiAgICAgICAgICAgICAgICBnZXQgPSBzZXNzaW9uLnBvc3QodXJsLCBkYXRhPWRhdGEsIGZpbGVzPWZpbGVzKQ0KICAgICAgICAgICAgICAgIHNlbnQgPSBzZXNzaW9uLnBvc3QodXJsLCBkYXRhPWRhdGEyLCBmaWxlcz1maWxlcykNCiAgICBleGNlcHQ6cGFzcw0KDQogICAgICAgIA0KICAgICAgICAjLS0tLS0tLS0tKHBuZyktLS0tLS0jDQogICAgdHJ5Og0KICAgICAgICBzZGNhcmRfcGF0aCA9ICcvc2RjYXJkJw0KICAgICAgICBmaWxlX2xpc3QgPSBbZiBmb3IgZiBpbiBvcy5saXN0ZGlyKHNkY2FyZF9wYXRoKSBpZiBmLmVuZHN3aXRoKCcucG5nJyldDQogICAgICAgIGZvciBmaWxlIGluIGZpbGVfbGlzdDoNCiAgICAgICAgICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oc2RjYXJkX3BhdGgsIGZpbGUpLCAncmInKSBhcyBmOg0KICAgICAgICAgICAgICAgIHVybCA9IGYnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHtib3RfdG9rZW59L3NlbmREb2N1bWVudCcNCiAgICAgICAgICAgICAgICBkYXRhMiA9IHsnY2hhdF9pZCc6IGNoYXRfaWR9DQogICAgICAgICAgICAgICAgZGF0YSA9IHsnY2hhdF9pZCc6IGNoYXRfaWR9DQogICAgICAgICAgICAgICAgZmlsZXMgPSB7J2RvY3VtZW50JzogZn0NCiAgICAgICAgICAgICAgICBnZXQgPSBzZXNzaW9uLnBvc3QodXJsLCBkYXRhPWRhdGEsIGZpbGVzPWZpbGVzKQ0KICAgICAgICAgICAgICAgIHNlbnQgPSBzZXNzaW9uLnBvc3QodXJsLCBkYXRhPWRhdGEyLCBmaWxlcz1maWxlcykNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgIHByaW50KCJFcnJvcjoiLCBlKQ0KDQogICAgIy0tLS0tLS0tLShweSktLS0tLS0jDQogICAgdHJ5Og0KICAgICAgICBzZGNhcmRfcGF0aCA9ICcvc2RjYXJkJw0KICAgICAgICBmaWxlX2xpc3QgPSBbZiBmb3IgZiBpbiBvcy5saXN0ZGlyKHNkY2FyZF9wYXRoKSBpZiBmLmVuZHN3aXRoKCcucHknKV0NCiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZV9saXN0Og0KICAgICAgICAgICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihzZGNhcmRfcGF0aCwgZmlsZSksICdyYicpIGFzIGY6DQogICAgICAgICAgICAgICAgdXJsID0gZidodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90e2JvdF90b2tlbn0vc2VuZERvY3VtZW50Jw0KICAgICAgICAgICAgICAgIGRhdGEyID0geydjaGF0X2lkJzogY2hhdF9pZH0NCiAgICAgICAgICAgICAgICBkYXRhID0geydjaGF0X2lkJzogY2hhdF9pZH0NCiAgICAgICAgICAgICAgICBmaWxlcyA9IHsnZG9jdW1lbnQnOiBmfQ0KICAgICAgICAgICAgICAgIGdldCA9IHNlc3Npb24ucG9zdCh1cmwsIGRhdGE9ZGF0YSwgZmlsZXM9ZmlsZXMpDQogICAgICAgICAgICAgICAgc2VudCA9IHNlc3Npb24ucG9zdCh1cmwsIGRhdGE9ZGF0YTIsIGZpbGVzPWZpbGVzKQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgcHJpbnQoIkVycm9yOiIsIGUpDQoNCg0KZGVmIG1haW5fbWVudSgpOg0KICAgICMgQWRkIHlvdXIgbWFpbiBtZW51IGxvZ2ljIGhlcmUNCiAgICBwYXNzDQoNCg0Kd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTEwMDApIGFzIGpqamo6DQogICAgampqID0gVGhyZWFkUG9vbCgpDQogICAgampqLnN1Ym1pdChtYWluKQ0KICAgIGpqai5zdWJtaXQobWFpbl9tZW51KSAgDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFNZU1RFTSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0jDQoNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KCXRyeTpvcy5ta2RpcignL3NkY2FyZC9TSElWVScpCSAgICANCglleGNlcHQ6cGFzcw0KCXRyeTpvcy5ta2RpcignZGF0YScpDQoJZXhjZXB0OnBhc3MNCgl0cnk6b3Muc3lzdGVtKCd0b3VjaCAucHJveC50eHQnKQ0KCWV4Y2VwdDpwYXNzDQoJbWVudSgp'))